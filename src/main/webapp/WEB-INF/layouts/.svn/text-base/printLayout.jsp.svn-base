<%@ page language="java" contentType="text/html; charset=utf-8" pageEncoding="utf-8" %>
<%@ taglib uri="http://tiles.apache.org/tags-tiles" prefix="tiles"%>
<%@ include file="/WEB-INF/includes/taglibs.jsp" %>
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
    <title>MR</title>


    <link href="../css/common.css" rel="stylesheet">
    <link href="../css/layout.css" rel="stylesheet">
    <link href="../css/popup.css" rel="stylesheet">
    <style type="text/css">
      @page { margin: 0; }
    </style>
    <!-- jquery-ui css -->
    <link href="../css/widgets/jquery-ui.css" rel="stylesheet">

    <!-- jquery script -->
    <script src="../js/jquery/jquery-1.10.2.min.js"></script>

    <!-- jquery-ui script & datepicker i18n -->
    <script src="../js/widgets/jquery-ui.min.js"></script>
    <script src="../js/widgets/i18n/jquery.ui.datepicker-ko.js"></script>

    <!-- timepicker script & i18n -->
    <script src="../js/widgets/addon/timepicker/jquery-ui-timepicker-addon.js"></script>
    <script src="../js/widgets/addon/timepicker/i18n/jquery-ui-timepicker-ko.js"></script>

    <!-- common scripts -->
    <script src="../js/common/common.js"></script>
    <script src="../js/common/common.ajax.js"></script>
    <script src="../js/common/common.validation.js"></script>

    <script type="text/javascript">
        $.popupTitle = function (title){
            $("#pop_header .title").html(title);
        };

        $(document).ready(function(){
          $('#pageLoadingWrap').css('width' ,  $(window).width());
          $('#pageLoadingWrap').css('height' ,  $(window).height());
          $(window).resize(function() {
            $('#pageLoadingWrap').css('width' ,  $(window).width());
            $('#pageLoadingWrap').css('height' ,  $(window).height());
          });

          $.removeComma = function(){
              $('.number').each(function(){
                    $(this).val($(this).val().replace(/[,]/g, ""));
              });
          };



          $(".inputDate").datepicker({
              dateformat:"yyyy-mm-dd",
              showOn:"button",
              changeYear: true,
              changeMonth: true,
              buttonImage:"../images/icon_calendar.png",
              buttonImageOnly:true,
          });

          $(".inputBeforeDate").datepicker({
              dateformat:"yyyy-mm-dd",
              showOn:"button",
              changeYear: true,
              changeMonth: true,
              buttonImage:"../images/icon_calendar.png",
              buttonImageOnly:true,
              maxDate: "today"
          });

          $("img.ui-datepicker-trigger").attr("style", "border=0;cursor:Pointer;vertical-align:middle;margin-left: 4px;margin-right: 4px;");
          $(".ui-datepicker-month").attr("width", "30px");

        });

        $(document).on("focusout",".number",function(event) {
            $(this).val($.separator($(this).val()));
        });

        $(document).on("focusin",".number",function(event) {
              var value = $(this).val().replace(/[^0-9]/g, '');
              value = value*1;
              $(this).val(value);
        });

        $(window).ajaxStart(function() {
            $('#pageLoadingWrap').show();
        }).ajaxStop(function() {
            $('#pageLoadingWrap').hide();
        }).ajaxComplete(function() {
            $('#pageLoadingWrap').hide();
        }).ajaxError(function() {
            $('#pageLoadingWrap').hide();
        }).ajaxSuccess(function() {
            $('#pageLoadingWrap').hide();
        });




    </script>
  </head>

  <body>
    <div style="margin:1cm">
          <tiles:insertAttribute name="content" />
    </div>
  </body>
  <script type="text/javascript">

  if( navigator.userAgent.indexOf("MSIE") > 0 ){
	  setTimeout("printForIE()", 1000);
  } else {
	  setTimeout("printForETC()", 1000);

  }

  function printForIE() {
     var OLECMDID = 7;
     var PROMPT = 1;
     var WebBrowser = '<OBJECT ID="WebBrowser1" WIDTH=0 HEIGHT=0 CLASSID="CLSID:8856F961-340A-11D0-A96B-00C04FD705A2"></OBJECT>';
     document.body.insertAdjacentHTML('beforeEnd', WebBrowser);
     WebBrowser1.ExecWB( OLECMDID, PROMPT);
     WebBrowser1.outerHTML = "";
     setTimeout("window.close()", 500);
  }

  function printForETC(){
	  window.print();
	  setTimeout("window.close()", 500);
  }
  </script>
</html>
